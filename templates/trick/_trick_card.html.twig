<div class="col-md-3 mb-4">
    <div class="card h-100">
        <div class="card-header p-0">
            <a href="{{ path('app_trick_show', { slug: trick.slug }) }}">
                {% if trick.illustrations|length > 0 and trick.illustrations[0].filename is not empty %}
                    <img src="{{ asset('/uploads/images/' ~ trick.illustrations[0].filename) }}"
                         class="card-img-top"
                         alt="{{ trick.name }}">
                {% else %}
                    <img src="{{asset('images/placeholder.jpg')}}"
                         class="card-img-top"
                         alt="Placeholder image">
                {% endif %}
            </a>
        </div>
        <div class="card-body d-flex justify-content-between align-items-center">
            <a href="{{ path('app_trick_show', { slug: trick.slug }) }}" class="text-dark text-decoration-none">
                <h5 class="mb-0">{{ trick.name }}</h5>
            </a>
            {% if is_granted('ROLE_VERIFIED_USER') %}
                <div class="d-flex align-items-center">
                    <a href="{{ path('app_trick_edit', { id: trick.id }) }}" class="text-primary me-2" title="Modifier">
                        <i class="bi bi-pencil"></i>
                    </a>
                    <form action="{{ path('app_trick_delete', { id: trick.id }) }}" method="post" class="d-inline">
                        <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ trick.id) }}">
                        <button type="submit" class="btn btn-link text-danger p-0" title="Supprimer"
                                onclick="return confirm('Êtes vous sûr de vouloir supprimer ce Trick ?')">
                            <i class="bi bi-trash"></i>
                        </button>
                    </form>
                </div>
            {% endif %}
        </div>
    </div>
</div>
